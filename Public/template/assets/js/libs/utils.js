define(["jquery","config","datepicker","layer"],function(t,e){var n={getQuery:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null},showLoading:function(e){t(e).find("tbody").append("<img id='loading' src='/images/loading.gif'>").find("td").addClass("isLoading")},selectAll:function(){t("tr th input[type=checkbox]").on("change",function(){var e=t(this);e.prop("checked")?e.parents("tr").siblings("tr").find("input[type=checkbox]").prop("checked",!0):e.parents("tr").siblings("tr").find("input[type=checkbox]").prop("checked",!1)})},initDatePicker:function(){var e=t("#dateStart"),n=t("#dateEnd");e.datetimepicker({lang:"ch",timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d",scrollInput:!1,validateOnBlur:!1,onShow:function(t){this.setOptions({maxDate:n.val()?n.val():"+1970-01-01"})}}),n.datetimepicker({lang:"ch",timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d",scrollInput:!1,validateOnBlur:!1,maxDate:"+1970-01-01",onShow:function(t){this.setOptions({minDate:!!e.val()&&e.val()})}})},getCheckedArr:function(){var e=[],n=t(".data-container table tbody input[type=checkbox]:checked");return n.each(function(n,i){e.push(t(this).val())}),e},validate:function(){}};return n});