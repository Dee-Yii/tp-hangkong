!function(n){var a={init:function(n,t){return function(){a.fillHtml(n,t),a.bindEvent(n,t)}()},fillHtml:function(n,a){return function(){n.empty(),a.current>1?n.append('<a href="javascript:;" class="prevPage"> &lt; </a>'):(n.remove(".prevPage"),n.append('<span class="disabled"> &lt; </span>')),1!=a.current&&a.current>=4&&4!=a.pageCount&&n.append('<a href="javascript:;" class="tcdNumber">1</a>'),a.current-2>2&&a.current<=a.pageCount&&a.pageCount>5&&n.append("<span>...</span>");var t=a.current-2,e=a.current+2;for((t>1&&a.current<4||1==a.current)&&e++,a.current>a.pageCount-4&&a.current>=a.pageCount&&t--;t<=e;t++)t<=a.pageCount&&t>=1&&(t!=a.current?n.append('<a href="javascript:;" class="tcdNumber">'+t+"</a>"):n.append('<span class="current">'+t+"</span>"));a.current+2<a.pageCount-1&&a.current>=1&&a.pageCount>5&&n.append("<span>...</span>"),a.current!=a.pageCount&&a.current<a.pageCount-2&&4!=a.pageCount&&n.append('<a href="javascript:;" class="tcdNumber">'+a.pageCount+"</a>"),a.current<a.pageCount?n.append('<a href="javascript:;" class="nextPage"> &gt; </a>'):(n.remove(".nextPage"),n.append('<span class="disabled"> &gt; </span>')),a.hasGo&&n.append('<em>跳转到</em><input type="text">')}()},bindEvent:function(t,e){return t.unbind(),function(){t.on("click","a.tcdNumber",function(){var r=parseInt(n(this).text());a.fillHtml(t,{current:r,pageCount:e.pageCount,hasGo:e.hasGo}),"function"==typeof e.backFn&&e.backFn(r)}),t.on("click","a.prevPage",function(){var n=parseInt(t.children("span.current").text());a.fillHtml(t,{current:n-1,pageCount:e.pageCount,hasGo:e.hasGo}),"function"==typeof e.backFn&&e.backFn(n-1)}),t.on("click","a.nextPage",function(){var n=parseInt(t.children("span.current").text());a.fillHtml(t,{current:n+1,pageCount:e.pageCount,hasGo:e.hasGo}),"function"==typeof e.backFn&&e.backFn(n+1)}),t.on("blur","input",function(){var r=n(this).val(),c=parseInt(r);return isNaN(c)||c<1||c>e.pageCount?void console.warn("无效的页码"):(a.fillHtml(t,{current:c,pageCount:e.pageCount,hasGo:e.hasGo}),void("function"==typeof e.backFn&&e.backFn(c)))})}()}};n.fn.createPage=function(t){var e=n.extend({pageCount:10,current:1,hasGo:!0,backFn:function(){}},t);a.init(this,e)}}(jQuery);